interactions:
- request:
    body: '{"uuid":"5ed2de20-9af5-4578-8ae6-08f663a8c691","publisher":{"uuid":"62da7e9d-2481-4d46-9c77-563b490126aa","naam":"Utrecht"},"informatie_categorieen":[{"uuid":"f139d736-3191-4dee-824a-7dcab8f08a4d","naam":"GPP-publicatiebank"}],"officiele_titel":"Lorem
      ipsum dolor sit amet, consectetur adipiscing elit.","verkorte_titel":"Donec
      finibus non tortor quis sollicitudin.","omschrijving":"Nulla at nisi at enim
      eleifend facilisis at vitae velit.","registratiedatum":"2026-01-05T12:00:00+00:00","laatst_gewijzigd_datum":"2026-01-05T12:00:00+00:00"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/publication/_doc/5ed2de20-9af5-4578-8ae6-08f663a8c691?refresh=wait_for
  response:
    body:
      string: '{"_index":"publication","_id":"5ed2de20-9af5-4578-8ae6-08f663a8c691","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":0,"_primary_term":1}'
    headers:
      Location:
      - /publication/_doc/5ed2de20-9af5-4578-8ae6-08f663a8c691
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '179'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"uuid":"93cdbf75-4d74-4f19-a1e3-f1800c1f0ef2","publisher":{"uuid":"62da7e9d-2481-4d46-9c77-563b490126aa","naam":"Utrecht"},"informatie_categorieen":[{"uuid":"830eae3a-0570-402c-b9f3-80cba70a39a8","naam":"GPP-zoeken"}],"officiele_titel":"Lorem
      ipsum dolor sit amet, consectetur adipiscing elit.","verkorte_titel":"Donec
      finibus non tortor quis sollicitudin.","omschrijving":"Nulla at nisi at enim
      eleifend facilisis at vitae velit.","registratiedatum":"2026-01-05T12:00:00+00:00","laatst_gewijzigd_datum":"2026-01-05T12:00:00+00:00"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/publication/_doc/93cdbf75-4d74-4f19-a1e3-f1800c1f0ef2?refresh=wait_for
  response:
    body:
      string: '{"_index":"publication","_id":"93cdbf75-4d74-4f19-a1e3-f1800c1f0ef2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":1,"_primary_term":1}'
    headers:
      Location:
      - /publication/_doc/93cdbf75-4d74-4f19-a1e3-f1800c1f0ef2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '179'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"uuid":"a8217b54-2e2d-4134-aa19-b3175f181c01","publisher":{"uuid":"62da7e9d-2481-4d46-9c77-563b490126aa","naam":"Utrecht"},"informatie_categorieen":[{"uuid":"50ce010b-0492-4b00-a78a-ca3cf9abc72e","naam":"GPP-app"}],"officiele_titel":"Lorem
      ipsum dolor sit amet, consectetur adipiscing elit.","verkorte_titel":"Donec
      finibus non tortor quis sollicitudin.","omschrijving":"Nulla at nisi at enim
      eleifend facilisis at vitae velit.","registratiedatum":"2026-01-05T12:00:00+00:00","laatst_gewijzigd_datum":"2026-01-05T12:00:00+00:00"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/publication/_doc/a8217b54-2e2d-4134-aa19-b3175f181c01?refresh=wait_for
  response:
    body:
      string: '{"_index":"publication","_id":"a8217b54-2e2d-4134-aa19-b3175f181c01","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":2,"_primary_term":1}'
    headers:
      Location:
      - /publication/_doc/a8217b54-2e2d-4134-aa19-b3175f181c01
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '179'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"from":0,"query":{"bool":{"must":[{"nested":{"path":"informatie_categorieen","query":{"bool":{"should":[{"match":{"informatie_categorieen.uuid":"f139d736-3191-4dee-824a-7dcab8f08a4d"}}]}}}}]}},"size":10,"sort":[{"_score":{"order":"desc"}},{"laatst_gewijzigd_datum":{"order":"desc"}}],"track_total_hits":true}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-py/8.17.1 (Python/3.12.6; elastic-transport/8.17.0)
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/*/_search
  response:
    body:
      string: '{"took":8,"timed_out":false,"_shards":{"total":2,"successful":1,"skipped":0,"failed":1,"failures":[{"shard":0,"index":"document","node":"4PCQ3sepQ1-zvip-zmiVjA","reason":{"type":"query_shard_exception","reason":"failed
        to create query: [nested] failed to find nested object under path [informatie_categorieen]","index_uuid":"77F5q0rbRNOKtHys0oQwoA","index":"document","caused_by":{"type":"illegal_state_exception","reason":"[nested]
        failed to find nested object under path [informatie_categorieen]"}}}]},"hits":{"total":{"value":1,"relation":"eq"},"max_score":null,"hits":[{"_index":"publication","_id":"5ed2de20-9af5-4578-8ae6-08f663a8c691","_score":4.9041457,"_source":{"uuid":"5ed2de20-9af5-4578-8ae6-08f663a8c691","publisher":{"uuid":"62da7e9d-2481-4d46-9c77-563b490126aa","naam":"Utrecht"},"informatie_categorieen":[{"uuid":"f139d736-3191-4dee-824a-7dcab8f08a4d","naam":"GPP-publicatiebank"}],"officiele_titel":"Lorem
        ipsum dolor sit amet, consectetur adipiscing elit.","verkorte_titel":"Donec
        finibus non tortor quis sollicitudin.","omschrijving":"Nulla at nisi at enim
        eleifend facilisis at vitae velit.","registratiedatum":"2026-01-05T12:00:00+00:00","laatst_gewijzigd_datum":"2026-01-05T12:00:00+00:00"},"sort":[4.9041457,1767614400000]}]}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
- request:
    body: '{"from":0,"query":{"bool":{"must":[{"nested":{"path":"informatie_categorieen","query":{"bool":{"should":[{"match":{"informatie_categorieen.uuid":"f139d736-3191-4dee-824a-7dcab8f08a4d"}},{"match":{"informatie_categorieen.uuid":"830eae3a-0570-402c-b9f3-80cba70a39a8"}}]}}}}]}},"size":10,"sort":[{"_score":{"order":"desc"}},{"laatst_gewijzigd_datum":{"order":"desc"}}],"track_total_hits":true}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-py/8.17.1 (Python/3.12.6; elastic-transport/8.17.0)
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/*/_search
  response:
    body:
      string: '{"took":8,"timed_out":false,"_shards":{"total":2,"successful":1,"skipped":0,"failed":1,"failures":[{"shard":0,"index":"document","node":"4PCQ3sepQ1-zvip-zmiVjA","reason":{"type":"query_shard_exception","reason":"failed
        to create query: [nested] failed to find nested object under path [informatie_categorieen]","index_uuid":"77F5q0rbRNOKtHys0oQwoA","index":"document","caused_by":{"type":"illegal_state_exception","reason":"[nested]
        failed to find nested object under path [informatie_categorieen]"}}}]},"hits":{"total":{"value":2,"relation":"eq"},"max_score":null,"hits":[{"_index":"publication","_id":"5ed2de20-9af5-4578-8ae6-08f663a8c691","_score":4.9041457,"_source":{"uuid":"5ed2de20-9af5-4578-8ae6-08f663a8c691","publisher":{"uuid":"62da7e9d-2481-4d46-9c77-563b490126aa","naam":"Utrecht"},"informatie_categorieen":[{"uuid":"f139d736-3191-4dee-824a-7dcab8f08a4d","naam":"GPP-publicatiebank"}],"officiele_titel":"Lorem
        ipsum dolor sit amet, consectetur adipiscing elit.","verkorte_titel":"Donec
        finibus non tortor quis sollicitudin.","omschrijving":"Nulla at nisi at enim
        eleifend facilisis at vitae velit.","registratiedatum":"2026-01-05T12:00:00+00:00","laatst_gewijzigd_datum":"2026-01-05T12:00:00+00:00"},"sort":[4.9041457,1767614400000]},{"_index":"publication","_id":"93cdbf75-4d74-4f19-a1e3-f1800c1f0ef2","_score":4.9041457,"_source":{"uuid":"93cdbf75-4d74-4f19-a1e3-f1800c1f0ef2","publisher":{"uuid":"62da7e9d-2481-4d46-9c77-563b490126aa","naam":"Utrecht"},"informatie_categorieen":[{"uuid":"830eae3a-0570-402c-b9f3-80cba70a39a8","naam":"GPP-zoeken"}],"officiele_titel":"Lorem
        ipsum dolor sit amet, consectetur adipiscing elit.","verkorte_titel":"Donec
        finibus non tortor quis sollicitudin.","omschrijving":"Nulla at nisi at enim
        eleifend facilisis at vitae velit.","registratiedatum":"2026-01-05T12:00:00+00:00","laatst_gewijzigd_datum":"2026-01-05T12:00:00+00:00"},"sort":[4.9041457,1767614400000]}]}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
