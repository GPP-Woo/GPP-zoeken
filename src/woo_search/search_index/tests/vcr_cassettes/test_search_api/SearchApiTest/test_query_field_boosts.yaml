interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 17 Apr 2025 13:12:38 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"1ceecfc2-d572-49c3-b140-0cf30c84951c","informatie_categorieen":[{"uuid":"16f32219-1b02-4bde-bc7e-29d65c00d917","naam":"Just
      want."}],"publisher":{"uuid":"ab02b4ab-e337-43dc-a710-1683599f06b8","naam":"Mejia,
      Garcia and Bird"},"identifier":"document1","officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-03-31","registratiedatum":"2025-04-16T17:35:18.096015","laatst_gewijzigd_datum":"2025-03-24T03:28:27.517692","document_data":"RG9jdW1lbnQgJzEn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":0,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 17 Apr 2025 13:12:39 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"18157921-1892-4a43-887b-aaad60886d6a","informatie_categorieen":[{"uuid":"5b649cbb-99d4-486b-b6fb-24999e386629","naam":"Participant
      cover happy."}],"publisher":{"uuid":"82c8334c-b22b-4889-9b91-e2eaf301c6eb","naam":"Crawford
      Ltd"},"identifier":"snowflake","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-26","registratiedatum":"2025-04-13T11:20:07.920285","laatst_gewijzigd_datum":"2025-04-11T20:33:28.265624","document_data":"RG9jdW1lbnQgJzIn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":1,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 17 Apr 2025 13:12:40 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"1fd21669-51aa-4a43-9835-5d59668e2ecc","informatie_categorieen":[{"uuid":"1a576b4f-e890-4173-be4d-6c9046e18c65","naam":"Near
      available president."}],"publisher":{"uuid":"528c8acd-03f1-4dff-8cb8-6f15ec5c9b70","naam":"Kent
      Group"},"identifier":"document3","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-04-10","registratiedatum":"2025-04-12T22:49:19.779109","laatst_gewijzigd_datum":"2025-04-06T01:15:34.855430","document_data":"RG9jdW1lbnQgJzMn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":2,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 17 Apr 2025 13:12:41 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"be4407d8-25f0-4c9f-b0c7-9dfe147e3283","informatie_categorieen":[{"uuid":"82d0b545-e9e2-4375-9b81-215ba25dae3c","naam":"Nearly
      until."}],"publisher":{"uuid":"1484dada-69e8-4901-9c6b-11ae7b4ed1b3","naam":"Smith
      LLC"},"identifier":"document4","officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-26","registratiedatum":"2025-04-16T18:13:32.895690","laatst_gewijzigd_datum":"2025-03-22T19:43:43.562876","document_data":"RG9jdW1lbnQgJzQn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":3,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 17 Apr 2025 13:12:42 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"772145f4-7c7c-406a-9698-3d4c18180ad3","informatie_categorieen":[{"uuid":"52063e38-2795-4054-8795-b0aed93bea61","naam":"Size
      my."}],"publisher":{"uuid":"430a12ea-5605-489b-ba98-d297dadc02ea","naam":"Daniels,
      Gross and Dodson"},"identifier":"document5","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-24","registratiedatum":"2025-04-17T03:31:53.717553","laatst_gewijzigd_datum":"2025-03-29T05:45:55.613516","document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":4,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifier^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"filter":{"match_all":{}},"aggs":{"FilteredResultType":{"terms":{"field":"_index"}}}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}},"Topics":{"filter":{"match_all":{}},"aggs":{"Topics":{"nested":{"path":"onderwerpen"},"aggs":{"FilteredTopics":{"multi_terms":{"terms":[{"field":"onderwerpen.uuid.keyword"},{"field":"onderwerpen.officiele_titel.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"topic":3.0},{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document,topic/_search
  response:
    body:
      string: '{"took":4,"timed_out":false,"_shards":{"total":3,"successful":3,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":4.158883,"_source":{"identifier":"snowflake","officiele_titel":"titel","registratiedatum":"2025-04-13T11:20:07.920285","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-04-11T20:33:28.265624","omschrijving":"omschrijving","publicatie":"18157921-1892-4a43-887b-aaad60886d6a","attachment":{"content":"Document
        ''2''"},"informatie_categorieen":[{"naam":"Participant cover happy.","uuid":"5b649cbb-99d4-486b-b6fb-24999e386629"}],"publisher":{"naam":"Crawford
        Ltd","uuid":"82c8334c-b22b-4889-9b91-e2eaf301c6eb"},"creatiedatum":"2025-03-26","verkorte_titel":"verkorte
        titel"},"sort":[4.158883,1744403608265]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":2.7725885,"_source":{"identifier":"document4","officiele_titel":"snowflake","registratiedatum":"2025-04-16T18:13:32.895690","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-03-22T19:43:43.562876","omschrijving":"omschrijving","publicatie":"be4407d8-25f0-4c9f-b0c7-9dfe147e3283","attachment":{"content":"Document
        ''4''"},"informatie_categorieen":[{"naam":"Nearly until.","uuid":"82d0b545-e9e2-4375-9b81-215ba25dae3c"}],"publisher":{"naam":"Smith
        LLC","uuid":"1484dada-69e8-4901-9c6b-11ae7b4ed1b3"},"creatiedatum":"2025-03-26","verkorte_titel":"verkorte
        titel"},"sort":[2.7725885,1742672623562]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":2.54154,"_source":{"identifier":"document1","officiele_titel":"titel","registratiedatum":"2025-04-16T17:35:18.096015","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-03-24T03:28:27.517692","omschrijving":"omschrijving","publicatie":"1ceecfc2-d572-49c3-b140-0cf30c84951c","attachment":{"content":"Document
        ''1''"},"informatie_categorieen":[{"naam":"Just want.","uuid":"16f32219-1b02-4bde-bc7e-29d65c00d917"}],"publisher":{"naam":"Mejia,
        Garcia and Bird","uuid":"ab02b4ab-e337-43dc-a710-1683599f06b8"},"creatiedatum":"2025-03-31","verkorte_titel":"snowflake"},"sort":[2.54154,1742786907517]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":1.6635532,"_source":{"identifier":"document3","officiele_titel":"titel","registratiedatum":"2025-04-12T22:49:19.779109","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-04-06T01:15:34.855430","omschrijving":"snowflake","publicatie":"1fd21669-51aa-4a43-9835-5d59668e2ecc","attachment":{"content":"Document
        ''3''"},"informatie_categorieen":[{"naam":"Near available president.","uuid":"1a576b4f-e890-4173-be4d-6c9046e18c65"}],"publisher":{"naam":"Kent
        Group","uuid":"528c8acd-03f1-4dff-8cb8-6f15ec5c9b70"},"creatiedatum":"2025-04-10","verkorte_titel":"verkorte
        titel"},"sort":[1.6635532,1743902134855]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"document5","officiele_titel":"titel","registratiedatum":"2025-04-17T03:31:53.717553","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-03-29T05:45:55.613516","omschrijving":"omschrijving","publicatie":"772145f4-7c7c-406a-9698-3d4c18180ad3","attachment":{"content":"Document
        ''snowflake''"},"informatie_categorieen":[{"naam":"Size my.","uuid":"52063e38-2795-4054-8795-b0aed93bea61"}],"publisher":{"naam":"Daniels,
        Gross and Dodson","uuid":"430a12ea-5605-489b-ba98-d297dadc02ea"},"creatiedatum":"2025-03-24","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1743227155613]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["16f32219-1b02-4bde-bc7e-29d65c00d917","Just
        want."],"key_as_string":"16f32219-1b02-4bde-bc7e-29d65c00d917|Just want.","doc_count":1},{"key":["1a576b4f-e890-4173-be4d-6c9046e18c65","Near
        available president."],"key_as_string":"1a576b4f-e890-4173-be4d-6c9046e18c65|Near
        available president.","doc_count":1},{"key":["52063e38-2795-4054-8795-b0aed93bea61","Size
        my."],"key_as_string":"52063e38-2795-4054-8795-b0aed93bea61|Size my.","doc_count":1},{"key":["5b649cbb-99d4-486b-b6fb-24999e386629","Participant
        cover happy."],"key_as_string":"5b649cbb-99d4-486b-b6fb-24999e386629|Participant
        cover happy.","doc_count":1},{"key":["82d0b545-e9e2-4375-9b81-215ba25dae3c","Nearly
        until."],"key_as_string":"82d0b545-e9e2-4375-9b81-215ba25dae3c|Nearly until.","doc_count":1}]}}},"Topics":{"doc_count":5,"Topics":{"doc_count":0,"FilteredTopics":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["1484dada-69e8-4901-9c6b-11ae7b4ed1b3","Smith
        LLC"],"key_as_string":"1484dada-69e8-4901-9c6b-11ae7b4ed1b3|Smith LLC","doc_count":1},{"key":["430a12ea-5605-489b-ba98-d297dadc02ea","Daniels,
        Gross and Dodson"],"key_as_string":"430a12ea-5605-489b-ba98-d297dadc02ea|Daniels,
        Gross and Dodson","doc_count":1},{"key":["528c8acd-03f1-4dff-8cb8-6f15ec5c9b70","Kent
        Group"],"key_as_string":"528c8acd-03f1-4dff-8cb8-6f15ec5c9b70|Kent Group","doc_count":1},{"key":["82c8334c-b22b-4889-9b91-e2eaf301c6eb","Crawford
        Ltd"],"key_as_string":"82c8334c-b22b-4889-9b91-e2eaf301c6eb|Crawford Ltd","doc_count":1},{"key":["ab02b4ab-e337-43dc-a710-1683599f06b8","Mejia,
        Garcia and Bird"],"key_as_string":"ab02b4ab-e337-43dc-a710-1683599f06b8|Mejia,
        Garcia and Bird","doc_count":1}]}},"ResultType":{"doc_count":5,"FilteredResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
