interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 15:07:09 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"8f0ba90b-c2eb-491b-bb79-71a5d29fddfd","informatie_categorieen":[{"uuid":"29c29191-a775-40a8-992b-99cf085109ca","naam":"Administration
      pay."}],"publisher":{"uuid":"9a975bfc-2015-4bb2-9f11-e57452d18521","naam":"Bowman-Jacobs"},"identifier":"document1","officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-03-09","registratiedatum":"2025-03-20T06:17:26.880158","laatst_gewijzigd_datum":"2025-02-24T08:08:30.201205","document_data":"RG9jdW1lbnQgJzEn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":0,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 15:07:10 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"8425c871-8ae3-46aa-b392-0a976f3d3fa9","informatie_categorieen":[{"uuid":"59266007-b740-4094-bd54-320e5cb51696","naam":"Among
      race issue."}],"publisher":{"uuid":"5f3c0612-6f1b-45b6-bc39-95016f70bdf9","naam":"Kelley
      Ltd"},"identifier":"snowflake","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-06","registratiedatum":"2025-03-22T22:20:30.921203","laatst_gewijzigd_datum":"2025-03-07T17:19:52.666072","document_data":"RG9jdW1lbnQgJzIn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":1,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 15:07:11 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"9df4c738-e3f1-4fd4-ae9c-29633d512201","informatie_categorieen":[{"uuid":"c6cb95ff-2a74-4da1-bf4f-ddf6fcd8bcc9","naam":"World
      house."}],"publisher":{"uuid":"829daa0b-5138-470c-b702-dffdebfbd5d0","naam":"Mccoy
      Inc"},"identifier":"document3","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-03-19","registratiedatum":"2025-03-22T10:44:33.925972","laatst_gewijzigd_datum":"2025-03-15T23:03:03.586298","document_data":"RG9jdW1lbnQgJzMn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":2,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 15:07:12 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"913946a0-eca6-493a-a919-2b0f1497fd87","informatie_categorieen":[{"uuid":"95fb3447-2984-4e2e-b332-e3fc56b24da9","naam":"Available
      step safe."}],"publisher":{"uuid":"e5e68d75-f9a4-4e8a-9dba-dd8984528674","naam":"Jackson-Day"},"identifier":"document4","officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-03","registratiedatum":"2025-03-20T21:00:11.967435","laatst_gewijzigd_datum":"2025-02-25T01:22:50.727517","document_data":"RG9jdW1lbnQgJzQn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":3,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 15:07:13 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"1d840f0f-a3f3-47fa-835a-abed40cca80d","informatie_categorieen":[{"uuid":"29e2ce22-f4ab-4fa7-8eb1-15dbfced5774","naam":"Practice
      pressure ten."}],"publisher":{"uuid":"acc8d265-44f7-4a9b-8a8b-37649df3d772","naam":"Garcia-Davis"},"identifier":"document5","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-02-22","registratiedatum":"2025-03-20T19:53:06.381471","laatst_gewijzigd_datum":"2025-03-04T19:18:58.170669","document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":4,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifier^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"filter":{"match_all":{}},"aggs":{"FilteredResultType":{"terms":{"field":"_index"}}}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document/_search
  response:
    body:
      string: '{"took":7,"timed_out":false,"_shards":{"total":2,"successful":2,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":4.158883,"_source":{"identifier":"snowflake","officiele_titel":"titel","registratiedatum":"2025-03-22T22:20:30.921203","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-03-07T17:19:52.666072","omschrijving":"omschrijving","publicatie":"8425c871-8ae3-46aa-b392-0a976f3d3fa9","attachment":{"content":"Document
        ''2''"},"informatie_categorieen":[{"naam":"Among race issue.","uuid":"59266007-b740-4094-bd54-320e5cb51696"}],"publisher":{"naam":"Kelley
        Ltd","uuid":"5f3c0612-6f1b-45b6-bc39-95016f70bdf9"},"creatiedatum":"2025-03-06","verkorte_titel":"verkorte
        titel"},"sort":[4.158883,1741367992666]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":2.7725885,"_source":{"identifier":"document4","officiele_titel":"snowflake","registratiedatum":"2025-03-20T21:00:11.967435","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-02-25T01:22:50.727517","omschrijving":"omschrijving","publicatie":"913946a0-eca6-493a-a919-2b0f1497fd87","attachment":{"content":"Document
        ''4''"},"informatie_categorieen":[{"naam":"Available step safe.","uuid":"95fb3447-2984-4e2e-b332-e3fc56b24da9"}],"publisher":{"naam":"Jackson-Day","uuid":"e5e68d75-f9a4-4e8a-9dba-dd8984528674"},"creatiedatum":"2025-03-03","verkorte_titel":"verkorte
        titel"},"sort":[2.7725885,1740446570727]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":2.54154,"_source":{"identifier":"document1","officiele_titel":"titel","registratiedatum":"2025-03-20T06:17:26.880158","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-02-24T08:08:30.201205","omschrijving":"omschrijving","publicatie":"8f0ba90b-c2eb-491b-bb79-71a5d29fddfd","attachment":{"content":"Document
        ''1''"},"informatie_categorieen":[{"naam":"Administration pay.","uuid":"29c29191-a775-40a8-992b-99cf085109ca"}],"publisher":{"naam":"Bowman-Jacobs","uuid":"9a975bfc-2015-4bb2-9f11-e57452d18521"},"creatiedatum":"2025-03-09","verkorte_titel":"snowflake"},"sort":[2.54154,1740384510201]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":1.6635532,"_source":{"identifier":"document3","officiele_titel":"titel","registratiedatum":"2025-03-22T10:44:33.925972","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-03-15T23:03:03.586298","omschrijving":"snowflake","publicatie":"9df4c738-e3f1-4fd4-ae9c-29633d512201","attachment":{"content":"Document
        ''3''"},"informatie_categorieen":[{"naam":"World house.","uuid":"c6cb95ff-2a74-4da1-bf4f-ddf6fcd8bcc9"}],"publisher":{"naam":"Mccoy
        Inc","uuid":"829daa0b-5138-470c-b702-dffdebfbd5d0"},"creatiedatum":"2025-03-19","verkorte_titel":"verkorte
        titel"},"sort":[1.6635532,1742079783586]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"document5","officiele_titel":"titel","registratiedatum":"2025-03-20T19:53:06.381471","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-03-04T19:18:58.170669","omschrijving":"omschrijving","publicatie":"1d840f0f-a3f3-47fa-835a-abed40cca80d","attachment":{"content":"Document
        ''snowflake''"},"informatie_categorieen":[{"naam":"Practice pressure ten.","uuid":"29e2ce22-f4ab-4fa7-8eb1-15dbfced5774"}],"publisher":{"naam":"Garcia-Davis","uuid":"acc8d265-44f7-4a9b-8a8b-37649df3d772"},"creatiedatum":"2025-02-22","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1741115938170]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["29c29191-a775-40a8-992b-99cf085109ca","Administration
        pay."],"key_as_string":"29c29191-a775-40a8-992b-99cf085109ca|Administration
        pay.","doc_count":1},{"key":["29e2ce22-f4ab-4fa7-8eb1-15dbfced5774","Practice
        pressure ten."],"key_as_string":"29e2ce22-f4ab-4fa7-8eb1-15dbfced5774|Practice
        pressure ten.","doc_count":1},{"key":["59266007-b740-4094-bd54-320e5cb51696","Among
        race issue."],"key_as_string":"59266007-b740-4094-bd54-320e5cb51696|Among
        race issue.","doc_count":1},{"key":["95fb3447-2984-4e2e-b332-e3fc56b24da9","Available
        step safe."],"key_as_string":"95fb3447-2984-4e2e-b332-e3fc56b24da9|Available
        step safe.","doc_count":1},{"key":["c6cb95ff-2a74-4da1-bf4f-ddf6fcd8bcc9","World
        house."],"key_as_string":"c6cb95ff-2a74-4da1-bf4f-ddf6fcd8bcc9|World house.","doc_count":1}]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["5f3c0612-6f1b-45b6-bc39-95016f70bdf9","Kelley
        Ltd"],"key_as_string":"5f3c0612-6f1b-45b6-bc39-95016f70bdf9|Kelley Ltd","doc_count":1},{"key":["829daa0b-5138-470c-b702-dffdebfbd5d0","Mccoy
        Inc"],"key_as_string":"829daa0b-5138-470c-b702-dffdebfbd5d0|Mccoy Inc","doc_count":1},{"key":["9a975bfc-2015-4bb2-9f11-e57452d18521","Bowman-Jacobs"],"key_as_string":"9a975bfc-2015-4bb2-9f11-e57452d18521|Bowman-Jacobs","doc_count":1},{"key":["acc8d265-44f7-4a9b-8a8b-37649df3d772","Garcia-Davis"],"key_as_string":"acc8d265-44f7-4a9b-8a8b-37649df3d772|Garcia-Davis","doc_count":1},{"key":["e5e68d75-f9a4-4e8a-9dba-dd8984528674","Jackson-Day"],"key_as_string":"e5e68d75-f9a4-4e8a-9dba-dd8984528674|Jackson-Day","doc_count":1}]}},"ResultType":{"doc_count":5,"FilteredResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
