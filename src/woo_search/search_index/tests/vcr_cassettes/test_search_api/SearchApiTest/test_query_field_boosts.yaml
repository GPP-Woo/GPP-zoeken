interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Fri, 21 Mar 2025 11:25:42 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"762be1fa-fc85-49ac-b791-f865f2a9c079","informatie_categorieen":[{"uuid":"16de0970-4377-4801-8d53-3f8e177cecad","naam":"Process
      ever teach article."}],"publisher":{"uuid":"89b3524a-b1b2-43d9-9047-6fb732081bd3","naam":"Richmond
      Ltd"},"identifier":"document1","officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-03-11","registratiedatum":"2025-03-20T06:52:22.781510","laatst_gewijzigd_datum":"2025-03-06T03:24:30.090092","document_data":"RG9jdW1lbnQgJzEn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":60,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Fri, 21 Mar 2025 11:25:43 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"5f72bc60-e0a3-4109-85dd-2193429a649b","informatie_categorieen":[{"uuid":"2fe42925-db98-4cf7-bf0b-01b67f47defd","naam":"Else
      accept pretty class."}],"publisher":{"uuid":"819695f2-cf53-4706-8f70-ff39c2324b25","naam":"Goodwin,
      Robles and Barr"},"identifier":"snowflake","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-02-28","registratiedatum":"2025-03-17T04:55:11.291903","laatst_gewijzigd_datum":"2025-03-18T05:55:37.938137","document_data":"RG9jdW1lbnQgJzIn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":61,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Fri, 21 Mar 2025 11:25:44 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"3714ad7e-c37d-4907-8073-56d1054dcaa4","informatie_categorieen":[{"uuid":"95544dfd-ecb8-4679-b208-3c93143d6922","naam":"Understand
      such together."}],"publisher":{"uuid":"07336f60-354f-4629-8ead-23ed354fa5e3","naam":"Hamilton
      PLC"},"identifier":"document3","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-03-06","registratiedatum":"2025-03-16T17:01:31.915708","laatst_gewijzigd_datum":"2025-03-05T05:53:24.691061","document_data":"RG9jdW1lbnQgJzMn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":62,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Fri, 21 Mar 2025 11:25:45 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"7f642e96-c6e3-4748-a01b-0a500db8f6c2","informatie_categorieen":[{"uuid":"932cff2c-ccd8-4330-9a25-9a0b15ea5fcb","naam":"Until
      suffer."}],"publisher":{"uuid":"35cdbaf1-6376-47ab-b1fc-19e53b17ecce","naam":"Duran-Rivera"},"identifier":"document4","officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-08","registratiedatum":"2025-03-17T06:42:32.923573","laatst_gewijzigd_datum":"2025-03-12T21:00:39.341629","document_data":"RG9jdW1lbnQgJzQn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":63,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Fri, 21 Mar 2025 11:25:46 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.9
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"af482767-8c84-423d-95ba-62a51d7b3433","informatie_categorieen":[{"uuid":"0ff54cd7-cdb0-41da-b837-a9882063914f","naam":"Change
      director what."}],"publisher":{"uuid":"7fb8d308-b194-4108-8674-048bb3581245","naam":"Meadows
      LLC"},"identifier":"document5","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-02-22","registratiedatum":"2025-03-19T12:13:32.243336","laatst_gewijzigd_datum":"2025-02-22T02:43:32.947102","document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":64,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifier^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"filter":{"match_all":{}},"aggs":{"FilteredResultType":{"terms":{"field":"_index"}}}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.6,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document/_search
  response:
    body:
      string: '{"took":4,"timed_out":false,"_shards":{"total":2,"successful":2,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":11.895835,"_source":{"identifier":"snowflake","officiele_titel":"titel","registratiedatum":"2025-03-17T04:55:11.291903","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-03-18T05:55:37.938137","omschrijving":"omschrijving","publicatie":"5f72bc60-e0a3-4109-85dd-2193429a649b","attachment":{"content":"Document
        ''2''"},"informatie_categorieen":[{"naam":"Else accept pretty class.","uuid":"2fe42925-db98-4cf7-bf0b-01b67f47defd"}],"publisher":{"naam":"Goodwin,
        Robles and Barr","uuid":"819695f2-cf53-4706-8f70-ff39c2324b25"},"creatiedatum":"2025-02-28","verkorte_titel":"verkorte
        titel"},"sort":[11.895835,1742277337938]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":7.7362905,"_source":{"identifier":"document4","officiele_titel":"snowflake","registratiedatum":"2025-03-17T06:42:32.923573","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-03-12T21:00:39.341629","omschrijving":"omschrijving","publicatie":"7f642e96-c6e3-4748-a01b-0a500db8f6c2","attachment":{"content":"Document
        ''4''"},"informatie_categorieen":[{"naam":"Until suffer.","uuid":"932cff2c-ccd8-4330-9a25-9a0b15ea5fcb"}],"publisher":{"naam":"Duran-Rivera","uuid":"35cdbaf1-6376-47ab-b1fc-19e53b17ecce"},"creatiedatum":"2025-03-08","verkorte_titel":"verkorte
        titel"},"sort":[7.7362905,1741813239341]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":6.072497,"_source":{"identifier":"document1","officiele_titel":"titel","registratiedatum":"2025-03-20T06:52:22.781510","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-03-06T03:24:30.090092","omschrijving":"omschrijving","publicatie":"762be1fa-fc85-49ac-b791-f865f2a9c079","attachment":{"content":"Document
        ''1''"},"informatie_categorieen":[{"naam":"Process ever teach article.","uuid":"16de0970-4377-4801-8d53-3f8e177cecad"}],"publisher":{"naam":"Richmond
        Ltd","uuid":"89b3524a-b1b2-43d9-9047-6fb732081bd3"},"creatiedatum":"2025-03-11","verkorte_titel":"snowflake"},"sort":[6.072497,1741231470090]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":6.059218,"_source":{"identifier":"document3","officiele_titel":"titel","registratiedatum":"2025-03-16T17:01:31.915708","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-03-05T05:53:24.691061","omschrijving":"snowflake","publicatie":"3714ad7e-c37d-4907-8073-56d1054dcaa4","attachment":{"content":"Document
        ''3''"},"informatie_categorieen":[{"naam":"Understand such together.","uuid":"95544dfd-ecb8-4679-b208-3c93143d6922"}],"publisher":{"naam":"Hamilton
        PLC","uuid":"07336f60-354f-4629-8ead-23ed354fa5e3"},"creatiedatum":"2025-03-06","verkorte_titel":"verkorte
        titel"},"sort":[6.059218,1741154004691]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"document5","officiele_titel":"titel","registratiedatum":"2025-03-19T12:13:32.243336","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-02-22T02:43:32.947102","omschrijving":"omschrijving","publicatie":"af482767-8c84-423d-95ba-62a51d7b3433","attachment":{"content":"Document
        ''snowflake''"},"informatie_categorieen":[{"naam":"Change director what.","uuid":"0ff54cd7-cdb0-41da-b837-a9882063914f"}],"publisher":{"naam":"Meadows
        LLC","uuid":"7fb8d308-b194-4108-8674-048bb3581245"},"creatiedatum":"2025-02-22","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1740192212947]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["0ff54cd7-cdb0-41da-b837-a9882063914f","Change
        director what."],"key_as_string":"0ff54cd7-cdb0-41da-b837-a9882063914f|Change
        director what.","doc_count":1},{"key":["16de0970-4377-4801-8d53-3f8e177cecad","Process
        ever teach article."],"key_as_string":"16de0970-4377-4801-8d53-3f8e177cecad|Process
        ever teach article.","doc_count":1},{"key":["2fe42925-db98-4cf7-bf0b-01b67f47defd","Else
        accept pretty class."],"key_as_string":"2fe42925-db98-4cf7-bf0b-01b67f47defd|Else
        accept pretty class.","doc_count":1},{"key":["932cff2c-ccd8-4330-9a25-9a0b15ea5fcb","Until
        suffer."],"key_as_string":"932cff2c-ccd8-4330-9a25-9a0b15ea5fcb|Until suffer.","doc_count":1},{"key":["95544dfd-ecb8-4679-b208-3c93143d6922","Understand
        such together."],"key_as_string":"95544dfd-ecb8-4679-b208-3c93143d6922|Understand
        such together.","doc_count":1}]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["07336f60-354f-4629-8ead-23ed354fa5e3","Hamilton
        PLC"],"key_as_string":"07336f60-354f-4629-8ead-23ed354fa5e3|Hamilton PLC","doc_count":1},{"key":["35cdbaf1-6376-47ab-b1fc-19e53b17ecce","Duran-Rivera"],"key_as_string":"35cdbaf1-6376-47ab-b1fc-19e53b17ecce|Duran-Rivera","doc_count":1},{"key":["7fb8d308-b194-4108-8674-048bb3581245","Meadows
        LLC"],"key_as_string":"7fb8d308-b194-4108-8674-048bb3581245|Meadows LLC","doc_count":1},{"key":["819695f2-cf53-4706-8f70-ff39c2324b25","Goodwin,
        Robles and Barr"],"key_as_string":"819695f2-cf53-4706-8f70-ff39c2324b25|Goodwin,
        Robles and Barr","doc_count":1},{"key":["89b3524a-b1b2-43d9-9047-6fb732081bd3","Richmond
        Ltd"],"key_as_string":"89b3524a-b1b2-43d9-9047-6fb732081bd3|Richmond Ltd","doc_count":1}]}},"ResultType":{"doc_count":5,"FilteredResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
