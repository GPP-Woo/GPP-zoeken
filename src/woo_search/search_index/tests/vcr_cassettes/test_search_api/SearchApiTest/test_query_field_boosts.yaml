interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 08:54:12 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"97680c31-4aa4-49a7-aefd-375e13a7bbb6","informatie_categorieen":[{"uuid":"e091e35a-57ef-4bff-8fa8-bd617aa1da98","naam":"Senior."}],"publisher":{"uuid":"18b835a3-a494-430c-835a-9d5c569d06c7","naam":"Holland
      and Sons"},"identifier":"document1","officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-03-07","registratiedatum":"2025-03-21T09:40:01.681664","laatst_gewijzigd_datum":"2025-03-02T03:16:00.610743","document_data":"RG9jdW1lbnQgJzEn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":60,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 08:54:13 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"35c58456-bf3c-4b0b-998a-bdf60a3afab8","informatie_categorieen":[{"uuid":"054682f8-ffbc-41d4-8579-7a1e428a542c","naam":"Really
      system."}],"publisher":{"uuid":"08950087-66b0-4402-87e8-67e821e2f601","naam":"Duran
      Ltd"},"identifier":"snowflake","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-18","registratiedatum":"2025-03-21T06:22:07.037757","laatst_gewijzigd_datum":"2025-02-27T22:16:35.220027","document_data":"RG9jdW1lbnQgJzIn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":61,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 08:54:14 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"c0a41fe1-18d1-408f-ba09-bd5c9fa37340","informatie_categorieen":[{"uuid":"5246359e-0fc8-4b0d-9112-f04a0d404ee5","naam":"Everybody
      area."}],"publisher":{"uuid":"d1a57bfd-fe8a-4a70-849e-7985c3004897","naam":"Campbell,
      Mills and Graham"},"identifier":"document3","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-02-25","registratiedatum":"2025-03-22T11:45:23.763993","laatst_gewijzigd_datum":"2025-02-23T01:39:20.349651","document_data":"RG9jdW1lbnQgJzMn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":62,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 08:54:15 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"a055d545-f972-4558-bca4-aff676a8aad1","informatie_categorieen":[{"uuid":"8b099c60-02ba-4844-94f6-6f53f9e5fdf5","naam":"Attention
      hope fact."}],"publisher":{"uuid":"5ab4f7f8-873d-43a4-aea2-0863a139b750","naam":"Cochran,
      Bray and Vasquez"},"identifier":"document4","officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-11","registratiedatum":"2025-03-22T13:46:10.819120","laatst_gewijzigd_datum":"2025-03-21T09:54:09.107459","document_data":"RG9jdW1lbnQgJzQn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":63,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 24 Mar 2025 08:54:16 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"595fb8a6-ddf3-4948-b206-e146047a14f8","informatie_categorieen":[{"uuid":"b70262f1-b071-4ea1-8679-9ae1bb86f21a","naam":"Scene
      performance."}],"publisher":{"uuid":"2a57dd0c-93d7-4430-b69d-048044b54dcc","naam":"Little,
      Kaufman and Bryant"},"identifier":"document5","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-21","registratiedatum":"2025-03-19T12:27:55.848395","laatst_gewijzigd_datum":"2025-02-25T14:58:56.944171","document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":64,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifier^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"filter":{"match_all":{}},"aggs":{"FilteredResultType":{"terms":{"field":"_index"}}}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document/_search
  response:
    body:
      string: '{"took":7,"timed_out":false,"_shards":{"total":2,"successful":2,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":11.895835,"_source":{"identifier":"snowflake","officiele_titel":"titel","registratiedatum":"2025-03-21T06:22:07.037757","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-02-27T22:16:35.220027","omschrijving":"omschrijving","publicatie":"35c58456-bf3c-4b0b-998a-bdf60a3afab8","attachment":{"content":"Document
        ''2''"},"informatie_categorieen":[{"naam":"Really system.","uuid":"054682f8-ffbc-41d4-8579-7a1e428a542c"}],"publisher":{"naam":"Duran
        Ltd","uuid":"08950087-66b0-4402-87e8-67e821e2f601"},"creatiedatum":"2025-03-18","verkorte_titel":"verkorte
        titel"},"sort":[11.895835,1740694595220]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":7.759667,"_source":{"identifier":"document4","officiele_titel":"snowflake","registratiedatum":"2025-03-22T13:46:10.819120","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-03-21T09:54:09.107459","omschrijving":"omschrijving","publicatie":"a055d545-f972-4558-bca4-aff676a8aad1","attachment":{"content":"Document
        ''4''"},"informatie_categorieen":[{"naam":"Attention hope fact.","uuid":"8b099c60-02ba-4844-94f6-6f53f9e5fdf5"}],"publisher":{"naam":"Cochran,
        Bray and Vasquez","uuid":"5ab4f7f8-873d-43a4-aea2-0863a139b750"},"creatiedatum":"2025-03-11","verkorte_titel":"verkorte
        titel"},"sort":[7.759667,1742550849107]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":6.109549,"_source":{"identifier":"document1","officiele_titel":"titel","registratiedatum":"2025-03-21T09:40:01.681664","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-03-02T03:16:00.610743","omschrijving":"omschrijving","publicatie":"97680c31-4aa4-49a7-aefd-375e13a7bbb6","attachment":{"content":"Document
        ''1''"},"informatie_categorieen":[{"naam":"Senior.","uuid":"e091e35a-57ef-4bff-8fa8-bd617aa1da98"}],"publisher":{"naam":"Holland
        and Sons","uuid":"18b835a3-a494-430c-835a-9d5c569d06c7"},"creatiedatum":"2025-03-07","verkorte_titel":"snowflake"},"sort":[6.109549,1740885360610]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":6.072687,"_source":{"identifier":"document3","officiele_titel":"titel","registratiedatum":"2025-03-22T11:45:23.763993","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-02-23T01:39:20.349651","omschrijving":"snowflake","publicatie":"c0a41fe1-18d1-408f-ba09-bd5c9fa37340","attachment":{"content":"Document
        ''3''"},"informatie_categorieen":[{"naam":"Everybody area.","uuid":"5246359e-0fc8-4b0d-9112-f04a0d404ee5"}],"publisher":{"naam":"Campbell,
        Mills and Graham","uuid":"d1a57bfd-fe8a-4a70-849e-7985c3004897"},"creatiedatum":"2025-02-25","verkorte_titel":"verkorte
        titel"},"sort":[6.072687,1740274760349]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"document5","officiele_titel":"titel","registratiedatum":"2025-03-19T12:27:55.848395","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-02-25T14:58:56.944171","omschrijving":"omschrijving","publicatie":"595fb8a6-ddf3-4948-b206-e146047a14f8","attachment":{"content":"Document
        ''snowflake''"},"informatie_categorieen":[{"naam":"Scene performance.","uuid":"b70262f1-b071-4ea1-8679-9ae1bb86f21a"}],"publisher":{"naam":"Little,
        Kaufman and Bryant","uuid":"2a57dd0c-93d7-4430-b69d-048044b54dcc"},"creatiedatum":"2025-03-21","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1740495536944]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["054682f8-ffbc-41d4-8579-7a1e428a542c","Really
        system."],"key_as_string":"054682f8-ffbc-41d4-8579-7a1e428a542c|Really system.","doc_count":1},{"key":["5246359e-0fc8-4b0d-9112-f04a0d404ee5","Everybody
        area."],"key_as_string":"5246359e-0fc8-4b0d-9112-f04a0d404ee5|Everybody area.","doc_count":1},{"key":["8b099c60-02ba-4844-94f6-6f53f9e5fdf5","Attention
        hope fact."],"key_as_string":"8b099c60-02ba-4844-94f6-6f53f9e5fdf5|Attention
        hope fact.","doc_count":1},{"key":["b70262f1-b071-4ea1-8679-9ae1bb86f21a","Scene
        performance."],"key_as_string":"b70262f1-b071-4ea1-8679-9ae1bb86f21a|Scene
        performance.","doc_count":1},{"key":["e091e35a-57ef-4bff-8fa8-bd617aa1da98","Senior."],"key_as_string":"e091e35a-57ef-4bff-8fa8-bd617aa1da98|Senior.","doc_count":1}]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["08950087-66b0-4402-87e8-67e821e2f601","Duran
        Ltd"],"key_as_string":"08950087-66b0-4402-87e8-67e821e2f601|Duran Ltd","doc_count":1},{"key":["18b835a3-a494-430c-835a-9d5c569d06c7","Holland
        and Sons"],"key_as_string":"18b835a3-a494-430c-835a-9d5c569d06c7|Holland and
        Sons","doc_count":1},{"key":["2a57dd0c-93d7-4430-b69d-048044b54dcc","Little,
        Kaufman and Bryant"],"key_as_string":"2a57dd0c-93d7-4430-b69d-048044b54dcc|Little,
        Kaufman and Bryant","doc_count":1},{"key":["5ab4f7f8-873d-43a4-aea2-0863a139b750","Cochran,
        Bray and Vasquez"],"key_as_string":"5ab4f7f8-873d-43a4-aea2-0863a139b750|Cochran,
        Bray and Vasquez","doc_count":1},{"key":["d1a57bfd-fe8a-4a70-849e-7985c3004897","Campbell,
        Mills and Graham"],"key_as_string":"d1a57bfd-fe8a-4a70-849e-7985c3004897|Campbell,
        Mills and Graham","doc_count":1}]}},"ResultType":{"doc_count":5,"FilteredResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
