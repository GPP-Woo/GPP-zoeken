interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 26 Jun 2025 12:26:40 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.10
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"f7aeee9a-ecd5-408d-a5c2-7f0061d4d7f3","informatie_categorieen":[{"uuid":"1080f434-e630-47d0-9c22-0a29d8adcb64","naam":"Particularly
      weight."}],"publisher":{"uuid":"976ff113-ab8d-49f1-b0a8-3b9847a6a725","naam":"Zuniga
      LLC"},"identifier":"","identifiers":["document1"],"officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-05-30","registratiedatum":"2025-06-25T01:16:56.798965","laatst_gewijzigd_datum":"2025-06-06T00:10:11.127638","document_data":[{"document_data":"RG9jdW1lbnQgJzEn"}]}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.10,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":0,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 26 Jun 2025 12:26:40 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.10
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"14281859-4809-47ea-8d0c-914df524ca8e","informatie_categorieen":[{"uuid":"c382640f-b51a-4d52-be06-bcc389af3883","naam":"Offer
      real."}],"publisher":{"uuid":"29cb21e2-e2de-493a-8bee-f5557662162f","naam":"Miller,
      Williams and Blair"},"identifier":"","identifiers":["snowflake"],"officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-06-14","registratiedatum":"2025-06-25T03:52:34.254247","laatst_gewijzigd_datum":"2025-06-03T18:19:29.088826","document_data":[{"document_data":"RG9jdW1lbnQgJzIn"}]}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.10,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":1,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 26 Jun 2025 12:26:41 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.10
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"0e2c7403-8459-43c0-b0ff-a545643c0dc2","informatie_categorieen":[{"uuid":"8b7fb3ca-b50c-4700-aaa5-cc1787614cbc","naam":"Will
      suffer modern rich."}],"publisher":{"uuid":"48f4adc9-3921-44e8-ae11-269f3e8fb87b","naam":"Duncan-Gutierrez"},"identifier":"","identifiers":["document3"],"officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-06-06","registratiedatum":"2025-06-22T04:15:03.513059","laatst_gewijzigd_datum":"2025-06-12T03:29:01.696245","document_data":[{"document_data":"RG9jdW1lbnQgJzMn"}]}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.10,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":2,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 26 Jun 2025 12:26:42 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.10
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"16d2db9f-4480-4008-b3c6-527fbcaa0d3b","informatie_categorieen":[{"uuid":"b01cffd0-25db-4f2f-806b-243b17a3480f","naam":"Computer."}],"publisher":{"uuid":"c492e4ef-f89e-4579-b6a2-7779aa6b478b","naam":"Oliver
      PLC"},"identifier":"","identifiers":["document4"],"officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-06-15","registratiedatum":"2025-06-26T10:52:12.529907","laatst_gewijzigd_datum":"2025-06-26T02:36:50.160410","document_data":[{"document_data":"RG9jdW1lbnQgJzQn"}]}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.10,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":3,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 26 Jun 2025 12:26:44 GMT
      Server:
      - Werkzeug/3.1.3 Python/3.12.10
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"bfe0748e-ded7-445b-b519-1d78847093f1","informatie_categorieen":[{"uuid":"274e3eb0-24bd-4ce6-84dc-43421692bc0f","naam":"You
      eat little."}],"publisher":{"uuid":"35c0d663-acab-402c-b1aa-a43fd7e8b685","naam":"Phillips
      Inc"},"identifier":"","identifiers":["document5"],"officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-06-05","registratiedatum":"2025-06-24T17:42:29.737428","laatst_gewijzigd_datum":"2025-06-12T21:34:10.951307","document_data":[{"document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}]}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.10,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":4,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifiers^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","document_data.attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"filter":{"match_all":{}},"aggs":{"FilteredResultType":{"terms":{"field":"_index"}}}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}},"Topics":{"filter":{"match_all":{}},"aggs":{"Topics":{"nested":{"path":"onderwerpen"},"aggs":{"FilteredTopics":{"multi_terms":{"terms":[{"field":"onderwerpen.uuid.keyword"},{"field":"onderwerpen.officiele_titel.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"topic":3.0},{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.10,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document,topic/_search
  response:
    body:
      string: '{"took":7,"timed_out":false,"_shards":{"total":3,"successful":3,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":4.158883,"_source":{"identifier":"","officiele_titel":"titel","identifiers":["snowflake"],"registratiedatum":"2025-06-25T03:52:34.254247","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-06-03T18:19:29.088826","omschrijving":"omschrijving","publicatie":"14281859-4809-47ea-8d0c-914df524ca8e","document_data":[{"attachment":{"content":"Document
        ''2''"}}],"informatie_categorieen":[{"naam":"Offer real.","uuid":"c382640f-b51a-4d52-be06-bcc389af3883"}],"publisher":{"naam":"Miller,
        Williams and Blair","uuid":"29cb21e2-e2de-493a-8bee-f5557662162f"},"creatiedatum":"2025-06-14","verkorte_titel":"verkorte
        titel"},"sort":[4.158883,1748974769088]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":2.7725885,"_source":{"identifier":"","officiele_titel":"snowflake","identifiers":["document4"],"registratiedatum":"2025-06-26T10:52:12.529907","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-06-26T02:36:50.160410","omschrijving":"omschrijving","publicatie":"16d2db9f-4480-4008-b3c6-527fbcaa0d3b","document_data":[{"attachment":{"content":"Document
        ''4''"}}],"informatie_categorieen":[{"naam":"Computer.","uuid":"b01cffd0-25db-4f2f-806b-243b17a3480f"}],"publisher":{"naam":"Oliver
        PLC","uuid":"c492e4ef-f89e-4579-b6a2-7779aa6b478b"},"creatiedatum":"2025-06-15","verkorte_titel":"verkorte
        titel"},"sort":[2.7725885,1750905410160]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":2.54154,"_source":{"identifier":"","officiele_titel":"titel","identifiers":["document1"],"registratiedatum":"2025-06-25T01:16:56.798965","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-06-06T00:10:11.127638","omschrijving":"omschrijving","publicatie":"f7aeee9a-ecd5-408d-a5c2-7f0061d4d7f3","document_data":[{"attachment":{"content":"Document
        ''1''"}}],"informatie_categorieen":[{"naam":"Particularly weight.","uuid":"1080f434-e630-47d0-9c22-0a29d8adcb64"}],"publisher":{"naam":"Zuniga
        LLC","uuid":"976ff113-ab8d-49f1-b0a8-3b9847a6a725"},"creatiedatum":"2025-05-30","verkorte_titel":"snowflake"},"sort":[2.54154,1749168611127]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":1.6635532,"_source":{"identifier":"","officiele_titel":"titel","identifiers":["document3"],"registratiedatum":"2025-06-22T04:15:03.513059","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-06-12T03:29:01.696245","omschrijving":"snowflake","publicatie":"0e2c7403-8459-43c0-b0ff-a545643c0dc2","document_data":[{"attachment":{"content":"Document
        ''3''"}}],"informatie_categorieen":[{"naam":"Will suffer modern rich.","uuid":"8b7fb3ca-b50c-4700-aaa5-cc1787614cbc"}],"publisher":{"naam":"Duncan-Gutierrez","uuid":"48f4adc9-3921-44e8-ae11-269f3e8fb87b"},"creatiedatum":"2025-06-06","verkorte_titel":"verkorte
        titel"},"sort":[1.6635532,1749698941696]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"","officiele_titel":"titel","identifiers":["document5"],"registratiedatum":"2025-06-24T17:42:29.737428","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-06-12T21:34:10.951307","omschrijving":"omschrijving","publicatie":"bfe0748e-ded7-445b-b519-1d78847093f1","document_data":[{"attachment":{"content":"Document
        ''snowflake''"}}],"informatie_categorieen":[{"naam":"You eat little.","uuid":"274e3eb0-24bd-4ce6-84dc-43421692bc0f"}],"publisher":{"naam":"Phillips
        Inc","uuid":"35c0d663-acab-402c-b1aa-a43fd7e8b685"},"creatiedatum":"2025-06-05","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1749764050951]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["1080f434-e630-47d0-9c22-0a29d8adcb64","Particularly
        weight."],"key_as_string":"1080f434-e630-47d0-9c22-0a29d8adcb64|Particularly
        weight.","doc_count":1},{"key":["274e3eb0-24bd-4ce6-84dc-43421692bc0f","You
        eat little."],"key_as_string":"274e3eb0-24bd-4ce6-84dc-43421692bc0f|You eat
        little.","doc_count":1},{"key":["8b7fb3ca-b50c-4700-aaa5-cc1787614cbc","Will
        suffer modern rich."],"key_as_string":"8b7fb3ca-b50c-4700-aaa5-cc1787614cbc|Will
        suffer modern rich.","doc_count":1},{"key":["b01cffd0-25db-4f2f-806b-243b17a3480f","Computer."],"key_as_string":"b01cffd0-25db-4f2f-806b-243b17a3480f|Computer.","doc_count":1},{"key":["c382640f-b51a-4d52-be06-bcc389af3883","Offer
        real."],"key_as_string":"c382640f-b51a-4d52-be06-bcc389af3883|Offer real.","doc_count":1}]}}},"Topics":{"doc_count":5,"Topics":{"doc_count":0,"FilteredTopics":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["29cb21e2-e2de-493a-8bee-f5557662162f","Miller,
        Williams and Blair"],"key_as_string":"29cb21e2-e2de-493a-8bee-f5557662162f|Miller,
        Williams and Blair","doc_count":1},{"key":["35c0d663-acab-402c-b1aa-a43fd7e8b685","Phillips
        Inc"],"key_as_string":"35c0d663-acab-402c-b1aa-a43fd7e8b685|Phillips Inc","doc_count":1},{"key":["48f4adc9-3921-44e8-ae11-269f3e8fb87b","Duncan-Gutierrez"],"key_as_string":"48f4adc9-3921-44e8-ae11-269f3e8fb87b|Duncan-Gutierrez","doc_count":1},{"key":["976ff113-ab8d-49f1-b0a8-3b9847a6a725","Zuniga
        LLC"],"key_as_string":"976ff113-ab8d-49f1-b0a8-3b9847a6a725|Zuniga LLC","doc_count":1},{"key":["c492e4ef-f89e-4579-b6a2-7779aa6b478b","Oliver
        PLC"],"key_as_string":"c492e4ef-f89e-4579-b6a2-7779aa6b478b|Oliver PLC","doc_count":1}]}},"ResultType":{"doc_count":5,"FilteredResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
