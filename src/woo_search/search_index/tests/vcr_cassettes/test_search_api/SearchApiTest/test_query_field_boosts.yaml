interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Tue, 25 Mar 2025 10:40:35 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"79045fcc-6919-4d0c-93a7-1c6f616982d1","informatie_categorieen":[{"uuid":"1b6518f2-928f-4d39-a800-370a342103c9","naam":"Our
      material thus."}],"publisher":{"uuid":"83a2c5d8-f459-41ed-b3dd-1614661c9fb4","naam":"Cain
      PLC"},"identifier":"document1","officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-03-18","registratiedatum":"2025-03-25T08:05:19.110594","laatst_gewijzigd_datum":"2025-02-25T12:58:50.599670","document_data":"RG9jdW1lbnQgJzEn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":0,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Tue, 25 Mar 2025 10:40:35 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"22273706-d0dc-4721-98e5-623ce7fa7e24","informatie_categorieen":[{"uuid":"e0ec9229-f4af-409f-8e6f-315402428764","naam":"One
      under."}],"publisher":{"uuid":"8c5ee5e4-ae2a-483b-9e8b-9c8ace07cabe","naam":"Ewing-Richardson"},"identifier":"snowflake","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-18","registratiedatum":"2025-03-20T22:33:20.887492","laatst_gewijzigd_datum":"2025-03-20T16:08:31.795930","document_data":"RG9jdW1lbnQgJzIn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":1,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Tue, 25 Mar 2025 10:40:36 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"6b613016-b4ea-4aa6-aaea-fce5912bcb69","informatie_categorieen":[{"uuid":"d7e7b1b4-becd-42ed-a983-d66d5785c867","naam":"Large
      total."}],"publisher":{"uuid":"31d699ce-1932-4a46-bd63-df3961bb88f6","naam":"Lewis-Gilbert"},"identifier":"document3","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-02-27","registratiedatum":"2025-03-23T14:31:54.076191","laatst_gewijzigd_datum":"2025-03-11T20:28:13.080211","document_data":"RG9jdW1lbnQgJzMn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":2,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Tue, 25 Mar 2025 10:40:37 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"1c78d722-6b9b-46ea-94af-f38442aa1d3d","informatie_categorieen":[{"uuid":"9c7534c1-6e25-4b35-ad0d-a175e6c0f3c7","naam":"Like."}],"publisher":{"uuid":"d33fdb54-2041-4ce4-b729-3b38a8146627","naam":"Doyle-Hicks"},"identifier":"document4","officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-02","registratiedatum":"2025-03-23T17:11:51.629925","laatst_gewijzigd_datum":"2025-03-08T21:49:15.639515","document_data":"RG9jdW1lbnQgJzQn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":3,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Tue, 25 Mar 2025 10:40:38 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"9128fc0d-1e12-455d-ad58-e8dd4f954e0b","informatie_categorieen":[{"uuid":"1921b5d6-3cc4-47b5-8a2e-2ce8a0cd3628","naam":"Clearly
      rather sort."}],"publisher":{"uuid":"31a9257e-3ef3-4c20-84f9-064326df6fa1","naam":"Burns
      PLC"},"identifier":"document5","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-03","registratiedatum":"2025-03-23T21:57:39.129568","laatst_gewijzigd_datum":"2025-03-11T09:13:17.388652","document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":4,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '176'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifier^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"filter":{"match_all":{}},"aggs":{"FilteredResultType":{"terms":{"field":"_index"}}}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document/_search
  response:
    body:
      string: '{"took":14,"timed_out":false,"_shards":{"total":2,"successful":2,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":4.158883,"_source":{"identifier":"snowflake","officiele_titel":"titel","registratiedatum":"2025-03-20T22:33:20.887492","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-03-20T16:08:31.795930","omschrijving":"omschrijving","publicatie":"22273706-d0dc-4721-98e5-623ce7fa7e24","attachment":{"content":"Document
        ''2''"},"informatie_categorieen":[{"naam":"One under.","uuid":"e0ec9229-f4af-409f-8e6f-315402428764"}],"publisher":{"naam":"Ewing-Richardson","uuid":"8c5ee5e4-ae2a-483b-9e8b-9c8ace07cabe"},"creatiedatum":"2025-03-18","verkorte_titel":"verkorte
        titel"},"sort":[4.158883,1742486911795]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":2.7725885,"_source":{"identifier":"document4","officiele_titel":"snowflake","registratiedatum":"2025-03-23T17:11:51.629925","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-03-08T21:49:15.639515","omschrijving":"omschrijving","publicatie":"1c78d722-6b9b-46ea-94af-f38442aa1d3d","attachment":{"content":"Document
        ''4''"},"informatie_categorieen":[{"naam":"Like.","uuid":"9c7534c1-6e25-4b35-ad0d-a175e6c0f3c7"}],"publisher":{"naam":"Doyle-Hicks","uuid":"d33fdb54-2041-4ce4-b729-3b38a8146627"},"creatiedatum":"2025-03-02","verkorte_titel":"verkorte
        titel"},"sort":[2.7725885,1741470555639]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":2.54154,"_source":{"identifier":"document1","officiele_titel":"titel","registratiedatum":"2025-03-25T08:05:19.110594","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-02-25T12:58:50.599670","omschrijving":"omschrijving","publicatie":"79045fcc-6919-4d0c-93a7-1c6f616982d1","attachment":{"content":"Document
        ''1''"},"informatie_categorieen":[{"naam":"Our material thus.","uuid":"1b6518f2-928f-4d39-a800-370a342103c9"}],"publisher":{"naam":"Cain
        PLC","uuid":"83a2c5d8-f459-41ed-b3dd-1614661c9fb4"},"creatiedatum":"2025-03-18","verkorte_titel":"snowflake"},"sort":[2.54154,1740488330599]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":1.6635532,"_source":{"identifier":"document3","officiele_titel":"titel","registratiedatum":"2025-03-23T14:31:54.076191","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-03-11T20:28:13.080211","omschrijving":"snowflake","publicatie":"6b613016-b4ea-4aa6-aaea-fce5912bcb69","attachment":{"content":"Document
        ''3''"},"informatie_categorieen":[{"naam":"Large total.","uuid":"d7e7b1b4-becd-42ed-a983-d66d5785c867"}],"publisher":{"naam":"Lewis-Gilbert","uuid":"31d699ce-1932-4a46-bd63-df3961bb88f6"},"creatiedatum":"2025-02-27","verkorte_titel":"verkorte
        titel"},"sort":[1.6635532,1741724893080]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"document5","officiele_titel":"titel","registratiedatum":"2025-03-23T21:57:39.129568","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-03-11T09:13:17.388652","omschrijving":"omschrijving","publicatie":"9128fc0d-1e12-455d-ad58-e8dd4f954e0b","attachment":{"content":"Document
        ''snowflake''"},"informatie_categorieen":[{"naam":"Clearly rather sort.","uuid":"1921b5d6-3cc4-47b5-8a2e-2ce8a0cd3628"}],"publisher":{"naam":"Burns
        PLC","uuid":"31a9257e-3ef3-4c20-84f9-064326df6fa1"},"creatiedatum":"2025-03-03","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1741684397388]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["1921b5d6-3cc4-47b5-8a2e-2ce8a0cd3628","Clearly
        rather sort."],"key_as_string":"1921b5d6-3cc4-47b5-8a2e-2ce8a0cd3628|Clearly
        rather sort.","doc_count":1},{"key":["1b6518f2-928f-4d39-a800-370a342103c9","Our
        material thus."],"key_as_string":"1b6518f2-928f-4d39-a800-370a342103c9|Our
        material thus.","doc_count":1},{"key":["9c7534c1-6e25-4b35-ad0d-a175e6c0f3c7","Like."],"key_as_string":"9c7534c1-6e25-4b35-ad0d-a175e6c0f3c7|Like.","doc_count":1},{"key":["d7e7b1b4-becd-42ed-a983-d66d5785c867","Large
        total."],"key_as_string":"d7e7b1b4-becd-42ed-a983-d66d5785c867|Large total.","doc_count":1},{"key":["e0ec9229-f4af-409f-8e6f-315402428764","One
        under."],"key_as_string":"e0ec9229-f4af-409f-8e6f-315402428764|One under.","doc_count":1}]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["31a9257e-3ef3-4c20-84f9-064326df6fa1","Burns
        PLC"],"key_as_string":"31a9257e-3ef3-4c20-84f9-064326df6fa1|Burns PLC","doc_count":1},{"key":["31d699ce-1932-4a46-bd63-df3961bb88f6","Lewis-Gilbert"],"key_as_string":"31d699ce-1932-4a46-bd63-df3961bb88f6|Lewis-Gilbert","doc_count":1},{"key":["83a2c5d8-f459-41ed-b3dd-1614661c9fb4","Cain
        PLC"],"key_as_string":"83a2c5d8-f459-41ed-b3dd-1614661c9fb4|Cain PLC","doc_count":1},{"key":["8c5ee5e4-ae2a-483b-9e8b-9c8ace07cabe","Ewing-Richardson"],"key_as_string":"8c5ee5e4-ae2a-483b-9e8b-9c8ace07cabe|Ewing-Richardson","doc_count":1},{"key":["d33fdb54-2041-4ce4-b729-3b38a8146627","Doyle-Hicks"],"key_as_string":"d33fdb54-2041-4ce4-b729-3b38a8146627|Doyle-Hicks","doc_count":1}]}},"ResultType":{"doc_count":5,"FilteredResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
