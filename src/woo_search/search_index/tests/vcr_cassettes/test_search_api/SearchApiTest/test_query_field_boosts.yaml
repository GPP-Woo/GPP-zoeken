interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/1
  response:
    body:
      string: Document '1'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 19 Mar 2025 10:51:37 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"3916925a-4260-4505-bfbb-0942113efd49","publicatie":"054a2d66-8297-444b-82a2-bb835778f929","informatie_categorieen":[{"uuid":"ebd1541a-b5b3-4b47-bf63-0901d30de922","naam":"Explain
      body."}],"publisher":{"uuid":"a587992b-89be-40c7-961f-395733c529e4","naam":"Hall-Davis"},"identifier":"document1","officiele_titel":"titel","verkorte_titel":"snowflake","omschrijving":"omschrijving","creatiedatum":"2025-03-12","registratiedatum":"2025-03-15T03:11:21.639642","laatst_gewijzigd_datum":"2025-02-19T19:48:12.750911","document_data":"RG9jdW1lbnQgJzEn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/3916925a-4260-4505-bfbb-0942113efd49?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":52,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/3916925a-4260-4505-bfbb-0942113efd49
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/2
  response:
    body:
      string: Document '2'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 19 Mar 2025 10:51:38 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","publicatie":"87cb4fb9-f59d-43f6-88ea-ba45ddb96550","informatie_categorieen":[{"uuid":"50b380cd-949e-4e9e-b7d8-5f823682e26f","naam":"Theory
      media."}],"publisher":{"uuid":"8087a6ec-0bfa-448b-8d1c-8fbe27f684c1","naam":"Stephens
      Group"},"identifier":"snowflake","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-02-19","registratiedatum":"2025-03-14T21:28:22.114905","laatst_gewijzigd_datum":"2025-03-10T08:56:41.500193","document_data":"RG9jdW1lbnQgJzIn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":53,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d49bc304-01a1-4eda-a914-a8dda5c901e2
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/3
  response:
    body:
      string: Document '3'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 19 Mar 2025 10:51:39 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","publicatie":"4ef66a89-1a4d-41bb-91ff-88ebf163870c","informatie_categorieen":[{"uuid":"a0b35046-ab54-469b-b168-a1d427998cb6","naam":"Item
      sea."}],"publisher":{"uuid":"a8bd10a8-15e5-4832-92bc-7d49f7bb797d","naam":"Martinez
      LLC"},"identifier":"document3","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"snowflake","creatiedatum":"2025-02-20","registratiedatum":"2025-03-14T17:15:20.939471","laatst_gewijzigd_datum":"2025-02-26T10:47:42.315862","document_data":"RG9jdW1lbnQgJzMn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":54,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/bdcc4cea-b186-425e-8dcd-9fecb6818563
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/4
  response:
    body:
      string: Document '4'
    headers:
      Connection:
      - close
      Content-Length:
      - '12'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 19 Mar 2025 10:51:40 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"7eade718-bccb-4876-9f00-a095beebc360","publicatie":"9276fef3-12fe-4ab6-984a-8a56122ecd88","informatie_categorieen":[{"uuid":"fe39b8a9-c147-4e97-be6c-b3840963fce0","naam":"Day
      partner."}],"publisher":{"uuid":"2a5858b6-e4cc-4aa3-9db8-2f2c06d05094","naam":"Oliver,
      Valdez and Walker"},"identifier":"document4","officiele_titel":"snowflake","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-03-14","registratiedatum":"2025-03-15T16:38:31.760325","laatst_gewijzigd_datum":"2025-03-06T14:45:12.150973","document_data":"RG9jdW1lbnQgJzQn"}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/7eade718-bccb-4876-9f00-a095beebc360?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":55,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/7eade718-bccb-4876-9f00-a095beebc360
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Audit-Remarks:
      - download document for indexing.
      Audit-User-ID:
      - GPP-Zoeken
      Audit-User-Representation:
      - GGP-Zoeken (system)
      Authorization:
      - Token insecure
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: http://localhost/document/snowflake
  response:
    body:
      string: Document 'snowflake'
    headers:
      Connection:
      - close
      Content-Length:
      - '20'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 19 Mar 2025 10:51:41 GMT
      Server:
      - Werkzeug/3.0.4 Python/3.12.5
    status:
      code: 200
      message: OK
- request:
    body: '{"uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","publicatie":"86f001a8-f68a-4251-aef9-43c205fcde72","informatie_categorieen":[{"uuid":"c05b6bb6-09e2-4fca-bdd1-032fc3f47729","naam":"Value
      suddenly."}],"publisher":{"uuid":"0f732a9b-9644-41cc-a39b-25389c58380b","naam":"White
      and Sons"},"identifier":"document5","officiele_titel":"titel","verkorte_titel":"verkorte
      titel","omschrijving":"omschrijving","creatiedatum":"2025-02-25","registratiedatum":"2025-03-14T21:26:01.569278","laatst_gewijzigd_datum":"2025-03-07T09:29:40.516092","document_data":"RG9jdW1lbnQgJ3Nub3dmbGFrZSc="}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: PUT
    uri: http://localhost:9201/document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090?pipeline=document_attachment&refresh=wait_for
  response:
    body:
      string: '{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"_seq_no":56,"_primary_term":1}'
    headers:
      Location:
      - /document/_doc/d21c2a2f-ad02-41d5-8754-d24ba7092090
      X-elastic-product:
      - Elasticsearch
      content-length:
      - '177'
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 201
      message: Created
- request:
    body: '{"query":{"function_score":{"functions":[{"gauss":{"registratiedatum":{"origin":"now","scale":"15d","offset":"7d","decay":0.5}}}],"query":{"simple_query_string":{"query":"snowflake","default_operator":"AND","fields":["identifier^3","officiele_titel^2","verkorte_titel^1.5","omschrijving^1.2","attachment.content"],"flags":"OR|AND|PHRASE|PRECEDENCE|WHITESPACE"}},"score_mode":"multiply"}},"aggs":{"ResultType":{"terms":{"field":"_index"}},"Publisher":{"filter":{"match_all":{}},"aggs":{"FilteredPublisher":{"multi_terms":{"terms":[{"field":"publisher.uuid.keyword"},{"field":"publisher.naam.keyword"}]}}}},"InformationCategories":{"filter":{"match_all":{}},"aggs":{"Categories":{"nested":{"path":"informatie_categorieen"},"aggs":{"FilteredCategories":{"multi_terms":{"terms":[{"field":"informatie_categorieen.uuid.keyword"},{"field":"informatie_categorieen.naam.keyword"}]}}}}}}},"sort":["_score",{"laatst_gewijzigd_datum":{"order":"desc"}}],"indices_boost":[{"publication":2.0},{"document":1.0}],"from":0,"size":10}'
    headers:
      accept:
      - application/vnd.elasticsearch+json; compatible-with=8
      connection:
      - keep-alive
      content-type:
      - application/vnd.elasticsearch+json; compatible-with=8
      user-agent:
      - elasticsearch-dsl-py/8.17.1
      x-elastic-client-meta:
      - es=8.17.1,py=3.12.9,t=8.17.0,ur=2.2.2
    method: POST
    uri: http://localhost:9201/publication,document/_search
  response:
    body:
      string: '{"took":14,"timed_out":false,"_shards":{"total":2,"successful":2,"skipped":0,"failed":0},"hits":{"total":{"value":5,"relation":"eq"},"max_score":null,"hits":[{"_index":"document","_id":"d49bc304-01a1-4eda-a914-a8dda5c901e2","_score":11.443506,"_source":{"identifier":"snowflake","officiele_titel":"titel","registratiedatum":"2025-03-14T21:28:22.114905","uuid":"d49bc304-01a1-4eda-a914-a8dda5c901e2","laatst_gewijzigd_datum":"2025-03-10T08:56:41.500193","omschrijving":"omschrijving","publicatie":"87cb4fb9-f59d-43f6-88ea-ba45ddb96550","attachment":{"content":"Document
        ''2''"},"informatie_categorieen":[{"naam":"Theory media.","uuid":"50b380cd-949e-4e9e-b7d8-5f823682e26f"}],"publisher":{"naam":"Stephens
        Group","uuid":"8087a6ec-0bfa-448b-8d1c-8fbe27f684c1"},"creatiedatum":"2025-02-19","verkorte_titel":"verkorte
        titel"},"sort":[11.443506,1741597001500]},{"_index":"document","_id":"7eade718-bccb-4876-9f00-a095beebc360","_score":7.5853453,"_source":{"identifier":"document4","officiele_titel":"snowflake","registratiedatum":"2025-03-15T16:38:31.760325","uuid":"7eade718-bccb-4876-9f00-a095beebc360","laatst_gewijzigd_datum":"2025-03-06T14:45:12.150973","omschrijving":"omschrijving","publicatie":"9276fef3-12fe-4ab6-984a-8a56122ecd88","attachment":{"content":"Document
        ''4''"},"informatie_categorieen":[{"naam":"Day partner.","uuid":"fe39b8a9-c147-4e97-be6c-b3840963fce0"}],"publisher":{"naam":"Oliver,
        Valdez and Walker","uuid":"2a5858b6-e4cc-4aa3-9db8-2f2c06d05094"},"creatiedatum":"2025-03-14","verkorte_titel":"verkorte
        titel"},"sort":[7.5853453,1741272312150]},{"_index":"document","_id":"3916925a-4260-4505-bfbb-0942113efd49","_score":6.057742,"_source":{"identifier":"document1","officiele_titel":"titel","registratiedatum":"2025-03-15T03:11:21.639642","uuid":"3916925a-4260-4505-bfbb-0942113efd49","laatst_gewijzigd_datum":"2025-02-19T19:48:12.750911","omschrijving":"omschrijving","publicatie":"054a2d66-8297-444b-82a2-bb835778f929","attachment":{"content":"Document
        ''1''"},"informatie_categorieen":[{"naam":"Explain body.","uuid":"ebd1541a-b5b3-4b47-bf63-0901d30de922"}],"publisher":{"naam":"Hall-Davis","uuid":"a587992b-89be-40c7-961f-395733c529e4"},"creatiedatum":"2025-03-12","verkorte_titel":"snowflake"},"sort":[6.057742,1739994492750]},{"_index":"document","_id":"bdcc4cea-b186-425e-8dcd-9fecb6818563","_score":5.8594685,"_source":{"identifier":"document3","officiele_titel":"titel","registratiedatum":"2025-03-14T17:15:20.939471","uuid":"bdcc4cea-b186-425e-8dcd-9fecb6818563","laatst_gewijzigd_datum":"2025-02-26T10:47:42.315862","omschrijving":"snowflake","publicatie":"4ef66a89-1a4d-41bb-91ff-88ebf163870c","attachment":{"content":"Document
        ''3''"},"informatie_categorieen":[{"naam":"Item sea.","uuid":"a0b35046-ab54-469b-b168-a1d427998cb6"}],"publisher":{"naam":"Martinez
        LLC","uuid":"a8bd10a8-15e5-4832-92bc-7d49f7bb797d"},"creatiedatum":"2025-02-20","verkorte_titel":"verkorte
        titel"},"sort":[5.8594685,1740566862315]},{"_index":"document","_id":"d21c2a2f-ad02-41d5-8754-d24ba7092090","_score":1.3862942,"_source":{"identifier":"document5","officiele_titel":"titel","registratiedatum":"2025-03-14T21:26:01.569278","uuid":"d21c2a2f-ad02-41d5-8754-d24ba7092090","laatst_gewijzigd_datum":"2025-03-07T09:29:40.516092","omschrijving":"omschrijving","publicatie":"86f001a8-f68a-4251-aef9-43c205fcde72","attachment":{"content":"Document
        ''snowflake''"},"informatie_categorieen":[{"naam":"Value suddenly.","uuid":"c05b6bb6-09e2-4fca-bdd1-032fc3f47729"}],"publisher":{"naam":"White
        and Sons","uuid":"0f732a9b-9644-41cc-a39b-25389c58380b"},"creatiedatum":"2025-02-25","verkorte_titel":"verkorte
        titel"},"sort":[1.3862942,1741339780516]}]},"aggregations":{"InformationCategories":{"doc_count":5,"Categories":{"doc_count":5,"FilteredCategories":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["50b380cd-949e-4e9e-b7d8-5f823682e26f","Theory
        media."],"key_as_string":"50b380cd-949e-4e9e-b7d8-5f823682e26f|Theory media.","doc_count":1},{"key":["a0b35046-ab54-469b-b168-a1d427998cb6","Item
        sea."],"key_as_string":"a0b35046-ab54-469b-b168-a1d427998cb6|Item sea.","doc_count":1},{"key":["c05b6bb6-09e2-4fca-bdd1-032fc3f47729","Value
        suddenly."],"key_as_string":"c05b6bb6-09e2-4fca-bdd1-032fc3f47729|Value suddenly.","doc_count":1},{"key":["ebd1541a-b5b3-4b47-bf63-0901d30de922","Explain
        body."],"key_as_string":"ebd1541a-b5b3-4b47-bf63-0901d30de922|Explain body.","doc_count":1},{"key":["fe39b8a9-c147-4e97-be6c-b3840963fce0","Day
        partner."],"key_as_string":"fe39b8a9-c147-4e97-be6c-b3840963fce0|Day partner.","doc_count":1}]}}},"Publisher":{"doc_count":5,"FilteredPublisher":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":["0f732a9b-9644-41cc-a39b-25389c58380b","White
        and Sons"],"key_as_string":"0f732a9b-9644-41cc-a39b-25389c58380b|White and
        Sons","doc_count":1},{"key":["2a5858b6-e4cc-4aa3-9db8-2f2c06d05094","Oliver,
        Valdez and Walker"],"key_as_string":"2a5858b6-e4cc-4aa3-9db8-2f2c06d05094|Oliver,
        Valdez and Walker","doc_count":1},{"key":["8087a6ec-0bfa-448b-8d1c-8fbe27f684c1","Stephens
        Group"],"key_as_string":"8087a6ec-0bfa-448b-8d1c-8fbe27f684c1|Stephens Group","doc_count":1},{"key":["a587992b-89be-40c7-961f-395733c529e4","Hall-Davis"],"key_as_string":"a587992b-89be-40c7-961f-395733c529e4|Hall-Davis","doc_count":1},{"key":["a8bd10a8-15e5-4832-92bc-7d49f7bb797d","Martinez
        LLC"],"key_as_string":"a8bd10a8-15e5-4832-92bc-7d49f7bb797d|Martinez LLC","doc_count":1}]}},"ResultType":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"document","doc_count":5}]}}}'
    headers:
      Transfer-Encoding:
      - chunked
      X-elastic-product:
      - Elasticsearch
      content-type:
      - application/vnd.elasticsearch+json;compatible-with=8
    status:
      code: 200
      message: OK
version: 1
